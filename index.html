<head> 
<script>
var url = "https://render-table-718778053249.europe-west1.run.app/hola"


function HttpPost(nom, tel , time){
    const xhr = new XMLHttpRequest();           
  xhr.open("POST", "https://reserve-718778053249.europe-west1.run.app", true);
  xhr.setRequestHeader('Content-Type', 'application/json')
 


  // Send the proper header information along with the request

   xhr.onreadystatechange = () => {
    // Call a function when the state changes.
    if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
      // Request finished. Do processing here.
    }
  };
  xhr.send(JSON.stringify({'nom':nom,"tel":tel,"time": time}));

           }
function httpGet(theUrl)
{
  
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return xmlHttp.responseText;
}
function reserva(input){
  let person = prompt("Please enter your name", "");
  let telephone;
  if (person == null || person == "") {
    text = "User cancelled the reservation process.";
    alert(text)
  } else {
     telephone = prompt("Please enter your telephone, I'll contact you through whatsapp", "");
    if (telephone == null || telephone == "") {
      text = "You cancelled the reservation process.";
    } else {
      text = "You have reserved a class ! I'll contact you via whatsapp";
     
    }
  }
  HttpPost(person, telephone, input)
 }
setInterval(()=> {
  if (document.hidden) {
    return
  }
  document.getElementsByTagName("div")[0].innerHTML=JSON.parse(httpGet(url)).values
           .reduce((accum, curr) =>
                   {if(accum.week != curr[4]){ 
                    
                     accum.result.push(["___________________________________"])}
                    if(accum.day != curr[5] && accum.week === curr[4] ){ 
                    
                     accum.result.push(["-------"])}  accum.week=curr[4];accum.day=curr[5]; curr.splice(4,1);accum.result.push(curr); return accum},{week: 0, day: 0 , result: []}).result.map(hora=> hora.reduce(( acc, curr)=> { if(curr.length <= 3){return  acc + "··" + curr.padEnd(4,"·")}; return acc + "··" + curr.padEnd(10,"·") }))
           .reduce((accum, curr) => { 
  if (curr.includes("RESERVA") && !curr.includes("attendee")){
      return accum +  "<br/>" + curr.substring(0,curr.length-(6))
      }
    
          if (curr.includes("RESERVA") && curr.includes("attendees")){
      return accum +  "<br/>" + curr.substring(0,curr.length-(19)).replace(/<[^>]*>/g, "").replace("RESERVA!","xMEETUP.");
      }
        if (curr.includes("RESERVA") && curr.includes("attendee")){
      return accum +  "<br/>" + curr.substring(0,curr.length-(18)).replace("RESERVA!","CONSULTA")
      }
    
  return accum + "<br/>" + curr.substring(0,34)
}).replaceAll("··················","")
    
},6000)




</script>



<style>







@import url("https://db.onlinewebfonts.com/c/1db29588408eadbd4406aae9238555eb?family=Consolas");

body {
  font-family: "Consolas";
  background: white;
  color: black;
  text-align: center;
  font-weight: bold;
 
}
div {
   line-height: 1.8;
  text-align: center;
}
subraya {
  font-family: "Consolas";
  background: black;
  color: white;
  text-align: left;
  font-weight: lighter;
    line-height: 1.8
}
@media (min-width: 30px) and (max-width: 500em) {
 div {
      font-size:100%;
  }    
  
  h1 {
      font-size:150%;
  }

}

@media (min-width: 500px) and (max-width: 5000em) {
 div {
      font-size:200%;
  }    
  
  h1 {
      font-size:250%;
  }

}


@media (max-width: 10000px) {
   
  #boldmobile
  {
    font-weight: bold;
  }

  body {
    margin: 4px !important;
  }

  div {
    margin: 0px !important;
  }
}

body {
    -moz-transform: scale(1); /* for Firefox, default 1*/
    zoom:100%; /* For Chrome, IE, default 100%*/
}









</style>


</head>





<head>
    <script src=
"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.3/moment.min.js">
    </script>
</head>

<body>

  <h1>CLASES DE INGLÉS GRATUITAS EN UNA CAFETERÍA</h1>
  <h2> <a href=#video>Video de una clase</a> // <a href=#quien> Quién soy </a></h2>
  <div>
    cargando calendario...
    <pre>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </pre>
</div>
    <p>--</p>
  <div id="video">
    <iframe width="420" height="315" src="https://www.youtube.com/embed/A6XUVjK9W4o" frameborder="0" allowfullscreen></iframe>

</iframe>
      <p>--</p>
  </div>
  <div id="quien">
    <br>QUIÉN SOY</br>
    <p>Soy ex-informático de Barcelona, no soy de Oxford ni de Cambridge.
  He trabajado en empresas de UK y USA, ahora doy clases de inglés</p>
  <p>--</p>
  
    <P>VALORACIONES</P>
  <P>"no esperaba que una clase de inglés fuera tan divertida"
  </P>
"se me ha pasado el tiempo volando"
<P>
  <p>--</p>
<p>¿PORQUÉ GRATUITAS?</P>
<P>No pagar nada es la manera de ayudarte a empezar de nuevo con el inglés y comprobar si el sistema conversacional te ayuda, con el tiempo ya hablamos de precios.<p>
    
  </div>
 <pre>
    

     I wish we can have a great class in a cafeteria !
    
    
    
    
    </pre>
</body>








